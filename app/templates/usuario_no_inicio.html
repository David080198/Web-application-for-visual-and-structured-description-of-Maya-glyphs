<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta charset="UTF-8">
    <link rel="shortcut icon" href="../static/imgs/icono.ico">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='../static/css/usuario_no_inicio.css') }}" />
    <link rel="stylesheet" href="../static/css/usuario_no_inicio.css" />

    <title>Iniciar sesión</title>
    <script>
        function llevo_inicio()
        {
            enlace_actual = window.location.href
            enlace_actual_1 = window.location.hostname
            enlace_actual_2 = window.location.pathname
            enlace_actual_3 = window.location.protocol

            console.log(enlace_actual.toString())
            console.log(enlace_actual_1.toString())
            console.log(enlace_actual_2.toString())
            console.log(enlace_actual_3.toString())

            var url = new URL(enlace_actual);
            var result = url.port;

            enlace_nuevo = enlace_actual_3 + "//" + enlace_actual_1 + ":" + result 

            console.log(enlace_nuevo)

            window.location.href = enlace_nuevo
        }

        document.addEventListener('DOMContentLoaded', function () {
            // Coloca aquí el código JavaScript que agrega eventos a los elementos
           
            //const caja3 = document.getElementById('email');
            //const caja1 = document.getElementById('contrasena');
            
            //caja3.addEventListener('input', verificar_correo);
            
            
            /*function verificar_correo()
            {
                const regexCorreoElectronico = /^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,}$/;
                let correo = document.getElementById('email').value;
    
                if(regexCorreoElectronico.test(correo))
                {
                    console.log("Su correo es valido")
                    document.getElementById("mensaje_correcto_incorrecto").textContent = "Correo valido"
                    document.getElementById("mensaje_correcto_incorrecto").style.color = 'green'
                    document.getElementById("email").style.borderColor = 'green'
                    document.getElementById("mensaje_correcto_incorrecto").style.padding = 0
                }
                else
                {
                    console.log("Correo no valido")
                    document.getElementById("mensaje_correcto_incorrecto").textContent = "Correo no valido"
                    document.getElementById("mensaje_correcto_incorrecto").style.color = 'red'
                    document.getElementById("email").style.borderColor = 'red'
                    document.getElementById("mensaje_correcto_incorrecto").style.padding = 0
                }
            }*/
        });

        function enviar_alerta_datos()
        {
        
        let correo = document.getElementById('email').value;
        let password = document.getElementById('contrasena').value;
        
        // Expresión regular para contraseña 
        const regexCorreoElectronico = /^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,}$/;

        if(regexCorreoElectronico.test(correo))
        {
            console.log("Su correo es valido")
            document.getElementById("mensaje_correcto_incorrecto").style.color = 'green'
            document.getElementById("email").style.borderColor = 'green'
            document.getElementById("mensaje_correcto_incorrecto").style.padding = 0
        }
        else
        {
            console.log("Correo no valido")
            document.getElementById("mensaje_correcto_incorrecto").textContent = "Correo no valido"
            document.getElementById("mensaje_correcto_incorrecto").style.color = 'red'
            document.getElementById("email").style.borderColor = 'red'
            document.getElementById("mensaje_correcto_incorrecto").style.padding = 0

        }

        if(password === "")
        {
            document.getElementById("falta_contraseña").textContent = "Falta tu contraseña"
            document.getElementById("falta_contraseña").style.color = 'red'
            document.getElementById("contrasena").style.borderColor = 'red'
            document.getElementById("falta_contraseña").style.padding = 0
        }

        if(regexCorreoElectronico.test(correo) && password != "")
        {   
            console.log("Si entro a la secuencia de condicionales completas");
            //document.getElementById("container_modal").style.display = "block";
            //document.getElementById("modal_1").style.display = "block";

            return true;     
        }
        
    }
    
    function cambiar_español()
    {
        document.getElementById("anuncio").innerHTML = "Error de inicio de sesión"
        document.getElementById("texto_letrero_1").innerHTML = "No se ha podido ingresar al sistema debido a que no has iniciado una sesión."
        document.getElementById("texto_letrero_2").innerHTML = "Solución:"
        document.getElementById("texto_letrero_3").innerHTML = "1.- Registrate en el sistema con tu correo electronico y crea un nombre de usuario."
        document.getElementById("texto_letrero_4").innerHTML = "2.- Ingresa desde la opción de Iniciar sesión."

    }

    function cambiar_ingles()
    {
        document.getElementById("anuncio").innerHTML = "Login error"
        document.getElementById("texto_letrero_1").innerHTML = "Unable to log in to the system because you are not logged in."
        document.getElementById("texto_letrero_2").innerHTML = "Solution:"
        document.getElementById("texto_letrero_3").innerHTML = "1.- Register in the system with your email and create a username."
        document.getElementById("texto_letrero_4").innerHTML = "2.- Enter from the Login option"

    }

    </script>
</head>
<body>
    
        <button class="boton-cabecera" onclick=llevo_inicio()>
            <span class="material-symbols-outlined">
                arrow_back
            </span>
        </button>
        <div>
            <p class="encabezado">Instituto Politénico Nacional</p>
            <p class="encabezado">Centro de Investigación en Computación</p>
        </div>
        <div class="container">
            <h2 id="anuncio" class="anuncio">Error de inicio de sesión</h2>
            <p id="texto_letrero_1" class="texto_letrero">No se ha podido ingresar al sistema debido a que no has iniciado una sesión.</p>
            <p id="texto_letrero_2" class="texto_letrero">Solución: </p>
            <p id="texto_letrero_3" class="texto_letrero">1.- Registrate en el sistema con tu correo electronico y crea un nombre de usuario.</p>
            <p id="texto_letrero_4" class="texto_letrero">2.- Ingresa desde la opción de Iniciar sesión.</p>
        </div>
        
        <div class="idiomas">
            <button id="español" class="español" onclick="cambiar_español()">Español</button>
            <button id="ingles" class="ingles" onclick="cambiar_ingles()">Inglés</button>
        </div>
</body>
</html>
